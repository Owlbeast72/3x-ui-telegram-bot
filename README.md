# 3X-UI Telegram bot –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ @Cryptobot
### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—é –±–æ—Ç–∞:
#### –°–∫—Ä–∏–Ω—à–æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é:
![–°–∫—Ä–∏–Ω—à–æ—Ç –º–µ–Ω—é](https://github.com/NefritAST/3x-ui-telegram-bot/blob/main/menu.png)
#### –°–∫—Ä–∏–Ω—à–æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
![–°–∫—Ä–∏–Ω—à–æ—Ç –∞–¥–º–∏–Ω–∫–∏](https://github.com/NefritAST/3x-ui-telegram-bot/blob/main/admin_menu.png)
## üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
üìã –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏

üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

‚öôÔ∏è –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

## üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
üí∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CryptoBot –¥–ª—è –ø—Ä–∏–µ–º–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

üé´ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –∏ —Å–∫–∏–¥–æ–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ (–ï—Å–ª–∏ –∏—Å—Ç–µ–∫–ª–∞ - –æ—Ç–∫–ª—é—á–∞–µ—Ç)

üìë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–º–∏ –ø–ª–∞–Ω–∞–º–∏

## üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
üéÆ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

üîÑ –õ–µ–≥–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏

üîó –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

üì§ –°–æ–∑–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–±–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
üö® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫

üîÑ –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö

üìÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

üìä –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ config.py:

    BOT_TOKEN = "your-telegram-bot-token"
    CRYPTO_PAY_API_TOKEN = "your-cryptobot-token"
    ADMIN_TELEGRAM_ID = your-telegram-id
    STABLE_BASE_PRICES - –û–±—ã—á–Ω—ã–µ —Ü–µ–Ω—ã.
    MOBILE_BASE_PRICES - –¶–µ–Ω—ã –¥–ª—è –æ–±—Ö–æ–¥–∞ –ë–µ–ª—ã—Ö –°–ø–∏—Å–∫–æ–≤.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –ø–æ–º–æ—â—å
–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

üìß –ù–∞–ø–∏—à–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –≤ Telegram: @nefrit_ast
    
‚≠ê –ü–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É —ç—Ç–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è


# üöÄ –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
## 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
sudo mkdir -p /opt/
sudo git clone https://github.com/NefritAST/3x-ui-telegram-bot.git /opt/3x-ui-telegram-bot
cd /opt/3x-ui-telegram-bot
```
## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
```bash
sudo apt update && sudo apt install python3-venv python3-pip pythonpy -y 
```
## 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
sudo python3 -m venv botvenv
```
## 4. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
source botvenv/bin/activate
```
## 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
sudo chown -R $(whoami) /opt/3x-ui-telegram-bot/botvenv/
pip install -r requirements.txt
```
## 6. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
sudo cp config.example.py config.py
```
## 7. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –≤–∞—à–∏)
```bash
nano config.py
```
## 8. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫
```bash
source botvenv/bin/activate
python main.py
```
## 9. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)
```bash
sudo nano /etc/systemd/system/3x-ui-bot.service
```
### –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```
[Unit]
Description=3x-ui Telegram Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/opt/3x-ui-telegram-bot
ExecStart=/opt/3x-ui-telegram-bot/botvenv/bin/python /opt/3x-ui-telegram-bot/main.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```
### –í–∫–ª—é—á–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```
sudo systemctl daemon-reload
sudo systemctl enable 3x-ui-bot
sudo systemctl start 3x-ui-bot
```
### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```
sudo systemctl status 3x-ui-bot
```
## –ë—Ä–µ–Ω–¥–∏–Ω–≥ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –∫—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ –∞–¥–º–∏–Ω-—Ä–∞–∑–¥–µ–ª–µ "—Å–µ—Ä–≤–µ—Ä–∞"
–ü–æ —Ñ–æ—Ä–º–∞—Ç—É, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–º—É –±–æ—Ç–æ–º:
```
{
  "id": "de-fra-01", #–ó–∞–ø–æ–º–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ—Ç–æ–º –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
  "country": "üá©üá™Germany",
  "city": "Frankfurt",
  "xui_url": "https://your-server.com",
  "xui_username": "admin",
  "xui_password": "password",
  "inbound_id": "1",
  "mobile_spoof": true,
  "subscription_path": "/sub",
  "subscription_port": "2096",
  "active": true
}
```
–ß—Ç–æ–±—ã –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ, –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —É –ø–∞–Ω–µ–ª–∏ –±—ã–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã 
(—Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Ç–æ–∂–µ –ø–æ–¥—Ö–æ–¥—è—Ç, –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–∞ –º–æ–∂–Ω–æ –ø–æ IP-–∞–¥—Ä–µ—Å—É)!
–ó–∞—Ö–æ–¥–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–æ –∞–¥—Ä–µ—Å—É –ø–∞–Ω–µ–ª–∏\–¥–æ–º–µ–Ω—É (–∏–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å, –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ)
–°–∫–∞—á–∏–≤–∞–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã "PEM (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)" - –∏ –∑–∞–∫–∏–¥—ã–≤–∞–µ–º –µ–≥–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /ssl-certs –≤ –∫–æ—Ä–Ω–µ –±–æ—Ç–∞
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–≤ –µ–≥–æ –≤ id-–≤–∞—à–µ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞.crt
```
openssl s_client -connect example.com:443 -showcerts </dev/null 2>/dev/null | openssl x509 -outform PEM > de-fra-01.crt
```
–ß—Ç–æ–±—ã –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –±—ã–ª –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –≤ —Ñ–∞–π–ª–µ /handlers/start.py –∏—â–∏—Ç–µ "–°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏"
–ò –º–µ–Ω—è–π—Ç–µ "‚Üí @nefrit_ast\n\n" –Ω–∞ –≤–∞—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ!
